<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Confixed - Conflicted JSON Corrector for Apache CouchDB</title>
    <link rel="stylesheet" href="www/lib/codemirror/lib/codemirror.css" charset="utf-8">
    <link rel="stylesheet" href="www/lib/codemirror/theme/tomorrow-night.css" charset="utf-8">
    <link rel="stylesheet" href="css/main.css" charset="utf-8">
  </head>
  <body>
    <header id="header">
      <div class="left">
        <h1>
          {} Confixed
          <a href="https://github.com/BigBlueHat/confixed" title="fork me on github!"><img src="img/gh.png" style="height: 1em; vertical-align: sub" /></a>
        </h1>
      </div>
      <div class="right">
        <input style="float:right" type="button" value="Resolve"
          v-on:click="resolve()" />
        <input style="float:right" type="button" value="Compare"
          v-on:click="compare()" />
        <span id="error-message" style="display:none;"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        	 width="512.209px" height="512.209px" viewBox="0 0 512.209 512.209" style="enable-background:new 0 0 512.209 512.209;"
        	 xml:space="preserve">
        <g>
        	<path d="M507.345,439.683L288.084,37.688c-3.237-5.899-7.71-10.564-13.429-13.988c-5.705-3.427-11.893-5.142-18.554-5.142
        		s-12.85,1.718-18.558,5.142c-5.708,3.424-10.184,8.089-13.418,13.988L4.859,439.683c-6.663,11.998-6.473,23.989,0.57,35.98
        		c3.239,5.517,7.664,9.897,13.278,13.128c5.618,3.237,11.66,4.859,18.132,4.859h438.529c6.479,0,12.519-1.622,18.134-4.859
        		c5.62-3.23,10.038-7.611,13.278-13.128C513.823,463.665,514.015,451.681,507.345,439.683z M292.655,411.132
        		c0,2.662-0.91,4.897-2.71,6.704c-1.807,1.811-3.949,2.71-6.427,2.71h-54.816c-2.474,0-4.616-0.899-6.423-2.71
        		c-1.809-1.807-2.713-4.042-2.713-6.704v-54.248c0-2.662,0.905-4.897,2.713-6.704c1.807-1.811,3.946-2.71,6.423-2.71h54.812
        		c2.479,0,4.62,0.899,6.428,2.71c1.803,1.807,2.71,4.042,2.71,6.704v54.248H292.655z M292.088,304.357
        		c-0.198,1.902-1.198,3.47-3.001,4.709c-1.811,1.238-4.046,1.854-6.711,1.854h-52.82c-2.663,0-4.947-0.62-6.849-1.854
        		c-1.908-1.243-2.858-2.807-2.858-4.716l-4.853-130.47c0-2.667,0.953-4.665,2.856-5.996c2.474-2.093,4.758-3.14,6.854-3.14h62.809
        		c2.098,0,4.38,1.043,6.854,3.14c1.902,1.331,2.851,3.14,2.851,5.424L292.088,304.357z"/>
        </svg> Invalid JSON</span>
      </div>
    </header>

    <div class="json-diff-input">
      <h4>
        {{doc_ids.length}} docs in conflict

      </h4>
      <select v-model="current" v-on:change="current_rev = ''">
        <option v-for="id in doc_ids">{{id}}</option>
      </select>

      <textarea id="json-diff-left"></textarea>
    </div>
    <div class="json-diff-input">
      <div v-if="current_conflict_count > 0">
        <h4>{{current_conflict_count}} conflicts found</h4>
        <select v-model="current_rev">
          <option v-for="rev in conflicts[current]">{{rev}}</option>
        </select>
      </div>

      <textarea id="json-diff-right"></textarea>
    </div>
    <script src="www/lib/fast-json-patch/dist/json-patch-duplex.min.js" charset="utf-8"></script>
    <script src="www/lib/backbone-events-standalone/backbone-events-standalone.min.js" charset="utf-8"></script>
    <script src="www/lib/codemirror/lib/codemirror.js" charset="utf-8"></script>
    <script src="www/lib/codemirror/lib/util/formatting.js" charset="utf-8"></script>
    <script src="www/lib/codemirror/mode/javascript/javascript.js" charset="utf-8"></script>
    <script src="js/main.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.24/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.7.2/vue-resource.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
